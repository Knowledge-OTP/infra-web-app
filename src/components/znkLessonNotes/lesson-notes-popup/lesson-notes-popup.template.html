<div class="lesson-notes-popup" ng-if="vm.lesson && vm.lessonSummary">

    <header class="znk-popup-header">
        <div class="icon-wrapper">
            <svg-icon name="znkLessonNotes-zoe-new-record"></svg-icon>
        </div>
        <div class="close-popup-wrap" ng-click="vm.doItLater()">
            <svg-icon name="znkLessonNotes-close-popup"></svg-icon>
        </div>
    </header>

    <main class="content-wrapper">
        <div class="title" translate="LESSON_NOTES.LESSON_NOTES_POPUP.TITLE"></div>
        <div class="znk-scrollbar">
            <znk-lesson-details lesson="vm.lesson" lesson-summary="vm.lessonSummary" user-context="vm.userContext"></znk-lesson-details>
            <div class="error" ng-if="vm.showStatusError" translate="LESSON_NOTES.LESSON_NOTES_POPUP.LESSON_STATUS_REQUIRED"></div>
            <znk-lesson-started-late lesson="vm.lesson" lesson-summary="vm.lessonSummary" user-context="vm.userContext"></znk-lesson-started-late>
            <div class="divider" ng-if="vm.isAdmin"></div>

            <znk-lesson-rating ng-if="vm.isAdmin || vm.isStudent" lesson="vm.lesson" lesson-summary="vm.lessonSummary" user-context="vm.userContext"></znk-lesson-rating>
            <div class="divider" ng-if="vm.isAdmin"></div>

            <znk-lesson-teacher-notes lesson="vm.lesson" lesson-summary="vm.lessonSummary" user-context="vm.userContext"></znk-lesson-teacher-notes>
        </div>
    </main>

    <footer>
        <div class="divider"></div>
        <div class="btn-group">
            <button type="button" class="btn-type-1 save-btn" ng-click="vm.submit()">
                <span class="btn-text" translate="LESSON_NOTES.SUBMIT"></span>
                <span class="spinner" ng-if="vm.showSpinner"></span>
            </button>
            <button type="button" class="btn-type-link" ng-click="vm.doItLater()"
                    translate="LESSON_NOTES.DO_IT_LATER">
            </button>
        </div>
    </footer>

</div>
